---
sidebar_position: 2
---
# üîé –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ  {#basic-usage}

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è LSSR {#lssr-config}
```typescript
// lssr.config.ts
import { defineLssrConfig } from "lite-ssr";

export default defineLssrConfig({
    entry?: "/src/main.ts", // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    head?: { // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è unhead (https://unhead.unjs.io/usage/composables/use-head#input)
        title: "My LSSR App"
    },
    html?: "/index.html", // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø—É—Ç—å –∫ –∫–∞—Å—Ç–æ–º–Ω–æ–º—É html —Ñ–∞–π–ª—É (–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å —Å —É–º–æ–º!)
    dist?: "/dist" // –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Å–±–æ—Ä–∫–∏
});
```

## –°–æ–∑–¥–∞–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Å—Ç–æ—Ä–æ–≤ {#async-stores}
–î–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞ –∏ –∫–ª–∏–µ–Ω—Ç–∞, –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–µ—Ñ–µ—Ç—á-—Å—Ç–æ—Ä—ã, –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏.

–ü—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç–æ—Ä–∞:
```typescript
// useData.ts
import { ref } from "vue";
import { definePrefetchStore } from "lite-ssr/vue";

export const useData = definePrefetchStore('data', () => {
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–µ–π—Ç–æ–≤
    const data = ref<null | any>(null);
    const loading = ref<boolean>(false);
    const error = ref<boolean>(false);

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
    const fetchData = async (id: number) => {
        loading.value = true;

        const response = await fetch(`https://jsonplaceholder.typicode.com/todos/${id}`);
        
        if (response.ok) {
            data.value = await response.json();
        } else {
            data.value = null;
            error.value = true;
        }

        loading.value = false;
    };

    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ç–µ–π—Ç—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏
    return {
        data,
        loading,
        error,
        fetchData
    }
})
```

::: info
–ü—Ä–µ—Ñ–µ—Ç—á-—Å—Ç–æ—Ä—ã, –∫–∞–∫ –∏ —Å—Ç–æ—Ä—ã Pinia —Ç—Ä–µ–±—É—é—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è. –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ SSR –∫–ª–∏–µ–Ω—Ç—É!
:::

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ–ª—É—á–∏–≤—à–µ–≥–æ—Å—è —Å—Ç–æ—Ä–∞:
```html
<!--App.vue-->
<template>
    <div>
        <span v-if="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</span>
        <span v-else-if="error">–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</span>
        <pre v-else>{{ serializedData }}</pre>
    </div>
</template>

<script setup lang="ts">
    import { computed, onMounted } from 'vue'
    import { useData } from "./useData";

    // –ü–æ–¥–∫–ª—é—á–∞–µ–º –Ω–∞—à —Å—Ç–æ—Ä
    const { fetchData, data, loading, error } = useData(); 

    // –°–µ—Ä–∏–∞–ª–∏–∑—É–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è —É–¥–æ–±–æ—á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
    const serializedData = computed( 
        () => data ? JSON.stringify(data, null, '\t') : ''
    )

    // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
    fetchData(1);
</script>
```

::: info
–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –ø—Ä–µ—Ñ–µ—Ç—á-—Å—Ç–æ—Ä–æ–º, —è–≤–ª—è—é—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏, –æ–¥–Ω–∞–∫–æ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ SSR –æ–Ω–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ —Ö—É–∫ `onPrefetch`, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ –∏—Ö –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω—É—Ç—Ä–∏ –¥—Ä—É–≥–∏—Ö —Ö—É–∫–æ–≤ *(–ø—Ä–∏–º. onMounted)*. –ò —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏, –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ SSR —ç—Ç–∏ –º–µ—Ç–æ–¥—ã –Ω–∏—á–µ–≥–æ –Ω–µ –≤–µ—Ä–Ω—É—Ç. –ù–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞ –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã.
:::
<br />

## –ü—Ä–µ—Ñ–µ—Ç—á –¥–∞–Ω–Ω—ã—Ö –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ useAsyncData (DEPRECATED)  {#async-data}

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ç–∞–∫ –∂–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É **useAsyncData** –∏–∑ Nuxt. –ù–æ –º—ã –Ω–∞—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ, –ø–æ –ø—Ä–∏—á–∏–Ω–µ –Ω–∏–∑–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```html
<!--App.vue-->
<template>
    <div>
        <span v-if="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</span>
        <span v-else-if="error">–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</span>
        <pre v-else>{{ serializedData }}</pre>
    </div>
</template>

<script setup lang="ts">
    import { computed, defineProps } from 'vue'
    import { useAsyncData } from "lite-ssr/vue";


    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å
    const fetchTodo = async (id: number) => {
        const response = await fetch(`https://jsonplaceholder.typicode.com/todos/${id}`);
        if (!response.ok) throw new Error();
        return response.json();
    };

    // –í—ã–ø–æ–ª–Ω—è–µ–º –∑–∞–ø—Ä–æ—Å
    const { data, loading, error } = useAsyncData('data', () => fetchTodo(1));

    // –°–µ—Ä–∏–∞–ª–∏–∑—É–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è —É–¥–æ–±–æ—á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
    const serializedData = computed( 
        () => data ? JSON.stringify(data, null, '\t') : ''
    )
</script>
```

::: warning
–ü–æ–≤—Ç–æ—Ä–∏–º, –º—ã –∫—Ä–∞–π–Ω–µ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥. –¢.–∫. –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π —Ñ—É–Ω–∫—Ü–∏–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–ª—É—á–∞—Ç—å –ø—É—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –µ–≥–æ –ø—Ä–æ–ø—Å—ã –∏ –¥—Ä. –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –≤–µ—Ä–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –∫–ª–∏–µ–Ω—Ç. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ü—Ä–µ—Ñ–µ—Ç—á-—Å—Ç–æ—Ä—ã!
:::
<br />